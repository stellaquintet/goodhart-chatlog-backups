<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğ†ğğğƒğ‡ğ€ğ‘ğ“ ğœğ¡ğšğ­ğ¥ğ¨ğ  ğ›ğšğœğ¤ğ®ğ©ğ¬</title>

  <link rel="icon" type="image/png" href="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FkYv1X%2FdJMcaivk8wy%2FAAAAAAAAAAAAAAAAAAAAAHVC_PvLpUtzKgPBafHLF_GI_TnULjumceRJ_bIDCY-l%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1769871599%26allow_ip%3D%26allow_referer%3D%26signature%3DlXCp4pz0C0ZPwvup%252BFakRH5iGMk%253D">

  <style>
    :root{
      --bg:#f3f3f3;
      --card:#ffffff;
      --text:#000000;
      --muted:#7a7a7a;
      --line:#e6e6e6;

      --accent:#e2431f;
      --accent-bg: rgba(226, 67, 31, .12);
      --accent-border: rgba(226, 67, 31, .28);

      --r:12px;
      --rCard:16px;
      --shadow: 0 10px 30px rgba(0,0,0,.10);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:"Helvetica","Apple SD Gothic Neo",system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
      background: var(--bg);
      color:var(--text);
      padding:25px;
      min-height:100vh;
    }

    .wrap{max-width:1040px;margin:0 auto}

    .card{
      background:var(--card);
      border-radius:var(--rCard);
      box-shadow:var(--shadow);
      overflow:hidden;
      border:1px solid rgba(0,0,0,.06);
    }

    .top{
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      display:flex;
      align-items:center;
      gap:10px;
      background:#fff;
      --topPadY: 12px;
    }

    .logoBtn{
      border:0;
      padding:0;
      margin:0;
      background:transparent;
      appearance:none;
      -webkit-appearance:none;
      box-shadow:none;
      outline:none;
      display:flex;
      align-items:center;
      cursor:pointer;
      line-height:0;
    }
    .logoBtn:focus,
    .logoBtn:focus-visible{
      outline:none;
      box-shadow:none;
    }

    .logo{width:150px;height:auto;display:block}

    .topTitle{
      margin:0;
      font-size:13px;
      letter-spacing:.2px;
      color:#111;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      flex:1 1 auto;
      min-width:0;
    }

    .topRight{
      display:flex;
      align-items:flex-end;
      flex:0 0 auto;
    }

    .topBadge{
      height:55px;
      width:auto;
      display:block;
      border-radius:6px;
      transform: translateY(var(--topPadY));
    }

    .content{
      display:grid;
      grid-template-columns: minmax(250px, 320px) 1fr;
      min-height: 82vh;
    }
    @media (max-width:980px){
      .content{ grid-template-columns: 1fr; min-height:auto; }
    }

    .left{
      padding:12px;
      border-right:1px solid var(--line);
      background:#fff;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    @media (max-width:980px){
      .left{ border-right:none; border-bottom:1px solid var(--line); }
    }

    .searchWrap{ position:relative; }
    .searchWrap::before{
      content:"";
      position:absolute;
      left:10px;
      top:50%;
      transform:translateY(-50%);
      width:16px;height:16px;
      opacity:.55;
      background:rgba(0,0,0,.35);
      -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="black" d="M10 18a8 8 0 1 1 5.293-14.293A8 8 0 0 1 10 18m0-2a6 6 0 1 0-6-6a6 6 0 0 0 6 6m10.707 5.293l-5.4-5.4l1.414-1.414l5.4 5.4z"/></svg>') center/contain no-repeat;
              mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="black" d="M10 18a8 8 0 1 1 5.293-14.293A8 8 0 0 1 10 18m0-2a6 6 0 1 0-6-6a6 6 0 0 0 6 6m10.707 5.293l-5.4-5.4l1.414-1.414l5.4 5.4z"/></svg>') center/contain no-repeat;
    }

    .search{
      width:100%;
      padding:10px 12px 10px 34px;
      border:none;
      outline:none;
      border-radius:12px;
      font-size:13px;
      background:#f3f3f3;
      box-shadow:none;
      appearance:none;
      -webkit-appearance:none;
    }
    .search::placeholder{ color: rgba(0,0,0,.45); }
    .search:focus{
      border:none;
      outline:none;
      box-shadow:none;
      background:#f3f3f3;
    }

    .metaRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:var(--muted);
      font-size:12px;
      padding:0 2px;
      min-height:16px;
    }

    .menu{
      display:flex;
      flex-direction:column;
      gap:6px;
      padding:2px;
    }

    .item{
      width:100%;
      border:1px solid rgba(0,0,0,.10);
      background:#fff;
      cursor:pointer;
      text-align:left;

      display:flex;
      align-items:flex-start;
      gap:10px;

      padding:10px 10px;
      border-radius:12px;

      color:var(--text);
      font-weight:700;
      font-size:13px;
      line-height:1.25;

      min-width:0;
      transition: background .12s ease, border-color .12s ease, transform .06s ease;
    }
    .item:hover{
      background:rgba(0,0,0,.02);
      border-color:rgba(0,0,0,.14);
    }
    .item:active{ transform: translateY(1px); }

    .dot{
      width:7px;
      height:18px;
      border-radius:999px;
      background:rgba(0,0,0,.14);
      flex:0 0 auto;
      margin-top:2px;
    }
    .label{
      min-width:0;
      white-space:normal;
      overflow:visible;
      word-break:keep-all;
    }

    .item.active{
      background: var(--accent-bg);
      border-color: var(--accent-border);
    }
    .item.active .dot{ background: var(--accent); }

    .pager{
      margin-top:auto;
      padding-top:10px;
      border-top:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }
    .pbtn{
      border:1px solid var(--line);
      background:#fff;
      color:#222;
      border-radius:12px;
      padding:7px 10px;
      font-size:12px;
      cursor:pointer;
      line-height:1;
      min-width:52px;
    }
    .pbtn:hover{ background:#fafafa; }
    .pbtn:disabled{ opacity:.45; cursor:not-allowed; background:#fff; }

    .pnum{
      border:0;
      background:#f3f3f3;
      border-radius:12px;
      padding:7px 12px;
      font-size:12px;
      min-width:78px;
      text-align:center;
      color:#444;
      user-select:none;
      box-shadow:none;
    }

    .right{
      background:var(--bg);
      display:flex;
      flex-direction:column;
      min-height:82vh;
    }
    @media (max-width:980px){ .right{ min-height:60vh; } }

    /* âœ… empty: í•­ìƒ ì¤‘ì•™ì •ë ¬ ìœ ì§€ */
    .empty{
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 18px;
      color: var(--muted);
      font-size: 14px;
      text-align: center;
    }

    iframe{
      width:100%;
      border:0;
      background:#fff;
      flex:1;
      min-height:72vh;
    }
    @media (max-width:980px){ iframe{ min-height:54vh } }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <!-- âœ… ë¡œê³  í´ë¦­í•˜ë©´ ì´ˆê¸°í™” -->
        <button class="logoBtn" id="homeBtn" type="button" aria-label="ì²˜ìŒ í™”ë©´ìœ¼ë¡œ">
          <img
            class="logo"
            src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbwTeCD%2FdJMcahJ09Qz%2FAAAAAAAAAAAAAAAAAAAAAGy7p7jHLsGmg6xN8d6YLsn9Xn5LgcqlHxSzEiEUAokM%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1769871599%26allow_ip%3D%26allow_referer%3D%26signature%3D2afMa%252FJkC6gLEKx7v5JJe5qnCSU%253D"
            alt="GOODHART logo"
          />
        </button>

        <div class="topTitle">ğ†ğğğƒğ‡ğ€ğ‘ğ“ ğœğ¡ğšğ­ğ¥ğ¨ğ  ğ›ğšğœğ¤ğ®ğ©ğ¬</div>

        <div class="topRight">
          <img
            class="topBadge"
            src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FdyJt8k%2FdJMcabXjUar%2FAAAAAAAAAAAAAAAAAAAAANZ4JkI2rLtAnOtX4HBUDITd972B5_SCX3rn1_9p7mmx%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1769871599%26allow_ip%3D%26allow_referer%3D%26signature%3DLpupVZOcX0XVUevwXFt20nA31G0%253D"
            alt="badge"
          />
        </div>
      </div>

      <div class="content">
        <aside class="left">
          <div class="searchWrap">
            <input id="qText" class="search" placeholder="ë‚´ìš© ê²€ìƒ‰" />
          </div>

          <div class="metaRow">
            <div id="count">0 files</div>
            <div id="status"></div>
          </div>

          <div id="list" class="menu"></div>

          <div class="pager">
            <button id="prev" class="pbtn" type="button">ì´ì „</button>
            <div id="pnum" class="pnum">1 / 2</div>
            <button id="next" class="pbtn" type="button">ë‹¤ìŒ</button>
          </div>
        </aside>

        <main class="right">
          <div id="empty" class="empty">ì„ íƒëœ ëŒ€í™” ì—†ìŒ</div>
          <iframe id="viewer" src="about:blank" style="display:none;"></iframe>
        </main>
      </div>
    </div>
  </div>

<script>
  const items = [
    { file:"250527.html",  label:"250527~250603 ì²« ëŒ€í™”" },
    { file:"250604.html",  label:"250604~250620 í˜¸ì¹­" },
    { file:"250618.html",  label:"250618 ì¡ë‹´" },
    { file:"250620.html",  label:"250620 ê±°ì„¸" },
    { file:"250709.html",  label:"250709~250731 ì½”ì¸" },
    { file:"250711.html",  label:"250711~250801 ì™¸ì¶œ" },
    { file:"250713.html",  label:"250713~250714 ì¡ë‹´" },
    { file:"250714-1.html",label:"250714-1 ì¡ë‹´" },
    { file:"250714-2.html",label:"250714-2 ì¡ë‹´" },
    { file:"250718-1.html",label:"250718 ì¡ë‹´" },
    { file:"250718-2.html",label:"250718~250719 ì¡ë‹´" },
    { file:"250720.html",  label:"250720 ì¡ë‹´" },
    { file:"250730.html",  label:"250730 ë´‰ë³€" },
    { file:"250804.html",  label:"250804~250915 ì†ë‚´" },
    { file:"250805.html",  label:"250805~250811 ì¡ë‹´" },
    { file:"250916.html",  label:"250916~250919 ê±°ë¦¬ê°" },
    { file:"250919.html",  label:"250919 ì¡ë‹´" },
    { file:"250923.html",  label:"250923~251029 ì˜í™”" },
    { file:"251002-1.html",label:"251002~251029 ëŒ€í™”" },
    { file:"251002-2.html",label:"251002~251016 SCP-1004" },
    { file:"251019.html",  label:"251019~251105 ì²«ë²ˆì§¸ ì£½ìŒ" },
    { file:"251030.html",  label:"251030~251120 í• ë¡œìœˆ" },
    { file:"251104.html",  label:"251104~251120 ë°ì´íŠ¸" },
    { file:"251119.html",  label:"251119~251229 ë‘ë²ˆì§¸ ì£½ìŒ" },
    { file:"251201.html",  label:"251201~251221 ì²«ëˆˆ" },
    { file:"251216.html",  label:"251216~251221 ì•Œê³ ë¦¬ì¦˜" }
  ];

  const list = document.getElementById("list");
  const viewer = document.getElementById("viewer");
  const empty = document.getElementById("empty");
  const qText = document.getElementById("qText");
  const countEl = document.getElementById("count");
  const statusEl = document.getElementById("status");

  const prevBtn = document.getElementById("prev");
  const nextBtn = document.getElementById("next");
  const pnumEl = document.getElementById("pnum");
  const homeBtn = document.getElementById("homeBtn");

  const cache = new Map(); // filename -> lowercased plain text
  let renderToken = 0;
  let debounceTimer = null;

  const PAGE_SIZE = 13;
  let currentPage = Number(localStorage.getItem("page") || "1");

function resetView(){
  renderToken++;
  clearTimeout(debounceTimer);

  qText.value = "";
  statusEl.textContent = "";

  currentPage = 1;
  localStorage.setItem("page", "1");
  localStorage.removeItem("last_open");

  document.querySelectorAll(".item").forEach(x => x.classList.remove("active"));
  viewer.style.display = "none";
  viewer.setAttribute("src", "about:blank");

  empty.style.display = "flex";
  empty.textContent = "ì„ íƒëœ ëŒ€í™” ì—†ìŒ";

  render();
}


  function openLog(el){
    document.querySelectorAll(".item").forEach(x=>x.classList.remove("active"));
    el.classList.add("active");

    empty.style.display = "none";
    viewer.style.display = "block";
    viewer.setAttribute("src", el.dataset.src);

    localStorage.setItem("last_open", el.dataset.file);
  }

  async function getPlainTextLower(filename){
    if(cache.has(filename)) return cache.get(filename);

    const res = await fetch("./" + filename, { cache: "force-cache" });
    const html = await res.text();

    const doc = new DOMParser().parseFromString(html, "text/html");
    doc.querySelectorAll("script,style,noscript").forEach(el => el.remove());

    const text = (doc.body && doc.body.innerText) ? doc.body.innerText : (doc.documentElement.textContent || "");
    const lower = text.toLowerCase();

    cache.set(filename, lower);
    return lower;
  }

  function buildList(visible){
    list.innerHTML = "";
    visible.forEach(it=>{
      const btn = document.createElement("button");
      btn.className = "item";
      btn.type = "button";
      btn.dataset.src = "./" + it.file;
      btn.dataset.label = it.label;
      btn.dataset.file = it.file;

      btn.innerHTML = `<span class="dot"></span><span class="label">${it.label}</span>`;
      btn.addEventListener("click", () => openLog(btn));
      list.appendChild(btn);
    });
  }

  async function render(){
    const token = ++renderToken;
    const key = qText.value.trim().toLowerCase();

    let all = items.slice().sort((a,b)=>a.file.localeCompare(b.file));
    statusEl.textContent = "";

    if(key){
      statusEl.textContent = "ê²€ìƒ‰ ì¤‘â€¦";
      const checks = await Promise.allSettled(
        all.map(async (it) => (await getPlainTextLower(it.file)).includes(key) ? it : null)
      );
      if(token !== renderToken) return;

      all = checks
        .filter(r => r.status === "fulfilled" && r.value)
        .map(r => r.value);

      statusEl.textContent = `${cache.size}/${items.length}`;
    }

    const total = all.length;
    const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));
    currentPage = Math.min(Math.max(1, currentPage), totalPages);

    const start = (currentPage - 1) * PAGE_SIZE;
    const pageItems = all.slice(start, start + PAGE_SIZE);

    countEl.textContent = `${total} files`;
    pnumEl.textContent = `${currentPage} / ${totalPages}`;

    prevBtn.disabled = (currentPage <= 1);
    nextBtn.disabled = (currentPage >= totalPages);

    buildList(pageItems);

    const last = localStorage.getItem("last_open");
    const currentSrcAttr = viewer.getAttribute("src");
    if(last && (!currentSrcAttr || currentSrcAttr === "about:blank")){
      const target = [...document.querySelectorAll(".item")].find(x => x.dataset.file === last);
      if(target) openLog(target);
    }

    localStorage.setItem("page", String(currentPage));
  }

  function scheduleRender(){
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => { currentPage = 1; render(); }, 150);
  }

  qText.addEventListener("input", scheduleRender);
  prevBtn.addEventListener("click", () => { currentPage--; render(); });
  nextBtn.addEventListener("click", () => { currentPage++; render(); });

homeBtn.addEventListener("click", (e) => {
  e.preventDefault();
  resetView();
});

  viewer.addEventListener("load", () => {
    try{
      const d = viewer.contentDocument;
      if(!d || !d.head) return;

      const s = d.createElement("style");
      s.textContent = `
        .chat-container{ max-width:720px !important; }
        body{ padding:24px !important; }
      `;
      d.head.appendChild(s);
    }catch(e){}
  });

  render();
</script>
</body>
</html>
